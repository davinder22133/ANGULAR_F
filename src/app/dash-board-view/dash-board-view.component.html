<!-- <table *ngIf="data!=''">
        {{data}}
    <tr>
       <ng-container
        *ngFor="let header of headers">  
            <th>{{header}}</th>
       </ng-container>
      </tr>

    <tr>
        <ng-container
        *ngFor="let a of headers">  
          {{a}}  bgfnhfgnh
        <tr *ngFor="let ab of helper(a)| keyvalue">
          

        </tr>

       </ng-container>
    </tr>


</table> -->
<table>
  <thead>
    <tr>
      <!-- <th>Category</th> -->
      <th *ngFor="let item of data[0] | keyvalue">{{ item.key }}</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let row of data" >
      <ng-container *ngFor="let category of row | keyvalue">
      <td>
        <div *ngFor="let cell of vast(category)" [attr.rowspan]="maxRowSpan(row)">
          {{ cell|json}} 
        </div></td>
      </ng-container>
    </tr>

    <!-- <tr>gbvgjh</tr>   -->
  </tbody>
</table>





<!--  ORIGINAL TABLE -->
<table *ngIf="apiData">
  <thead>
    <tr>
      <!-- <th>Category</th> -->
      <!-- {{apiData[0]}} -->
      <th *ngFor="let item of headers">{{ item  }}</th>
    </tr>
  </thead>

    <tbody>
      <tr *ngFor="let row of apiData.data" >

        <td >{{row._id}}</td>
        
        <!-- <div class="border">{{row.userDetials| json}}</div> -->
        
        <ng-container *ngFor="let category of row.userDetials | keyvalue">
          <td>
          <ng-container *ngFor="let cell of vast(category)" class="border">
            <p class="border">{{ cell|json}} </p>
          </ng-container>
        </td>
          
        
        </ng-container>
      </tr>
  
      <!-- <tr>gbvgjh</tr>   -->
    </tbody>

 
</table>
<div *ngIf="!apiData">
  <!-- Placeholder or loading message -->
  <p>Loading data...</p>
</div>







<button (click)="show()">Show</button>